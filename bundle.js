(()=>{"use strict";var n={56(n,e,t){n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72(n){var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var o={},i=[],s=0;s<n.length;s++){var l=n[s],c=r.base?l[0]+r.base:l[0],d=o[c]||0,u="".concat(c," ").concat(d);o[c]=d+1;var p=t(u),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var m=a(h,r);r.byIndex=s,e.splice(s,0,{identifier:u,updater:m,references:1})}i.push(u)}return i}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var o=r(n=n||[],a=a||{});return function(n){n=n||[];for(var i=0;i<o.length;i++){var s=t(o[i]);e[s].references--}for(var l=r(n,a),c=0;c<o.length;c++){var d=t(o[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}o=l}}},113(n){n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},208(n,e,t){t.d(e,{A:()=>s});var r=t(601),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([n.id,"/* Dark Theme Base */\nbody {\n  background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%);\n  color: #e4e6eb;\n  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n  min-height: 100vh;\n  margin: 0;\n  padding: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n/* Placement Phase */\n#placement-phase {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 2em;\n  max-width: 900px;\n  margin: 0 auto;\n}\n\n.ship-info {\n  display: flex;\n  gap: 15px;\n  align-items: center;\n  background: rgba(30, 35, 45, 0.8);\n  padding: 20px 30px;\n  border-radius: 12px;\n  border: 1px solid rgba(94, 129, 172, 0.3);\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\n}\n\n.ship-info p {\n  margin: 0;\n  font-size: 1.1rem;\n  color: #b4bcc8;\n}\n\n#orientation {\n  color: #88c0d0;\n  font-weight: bold;\n  text-transform: uppercase;\n}\n\n/* Buttons */\nbutton {\n  background: linear-gradient(135deg, #5e81ac, #4c6a8f);\n  color: #eceff4;\n  border: none;\n  padding: 12px 24px;\n  font-size: 1rem;\n  font-weight: 600;\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 12px rgba(94, 129, 172, 0.3);\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n\nbutton:hover:not(:disabled) {\n  background: linear-gradient(135deg, #81a1c1, #5e81ac);\n  transform: translateY(-2px);\n  box-shadow: 0 6px 16px rgba(94, 129, 172, 0.5);\n}\n\nbutton:active:not(:disabled) {\n  transform: translateY(0);\n}\n\nbutton:disabled {\n  background: linear-gradient(135deg, #3b4252, #2e3440);\n  cursor: not-allowed;\n  opacity: 0.5;\n  box-shadow: none;\n}\n\n#start-game-btn {\n  background: linear-gradient(135deg, #a3be8c, #8bb174);\n  padding: 16px 48px;\n  font-size: 1.2rem;\n  margin-top: 10px;\n}\n\n#start-game-btn:hover:not(:disabled) {\n  background: linear-gradient(135deg, #b8d4a0, #a3be8c);\n}\n\n#randomize-btn {\n  background: linear-gradient(135deg, #b48ead, #9d7598);\n}\n\n#randomize-btn:hover {\n  background: linear-gradient(135deg, #c9a0bf, #b48ead);\n}\n\n/* Placement Wrapper */\n.placement-wrapper {\n  display: flex;\n  gap: 30px;\n  margin-top: 10px;\n}\n\n/* Ship Palette */\n.ship-palette {\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n  padding: 20px;\n  background: rgba(30, 35, 45, 0.9);\n  border: 2px solid rgba(94, 129, 172, 0.4);\n  border-radius: 12px;\n  min-width: 180px;\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);\n}\n\n.draggable-ship {\n  background: linear-gradient(135deg, #5e81ac, #4c6a8f);\n  color: #eceff4;\n  padding: 14px;\n  border-radius: 8px;\n  cursor: grab;\n  user-select: none;\n  text-align: center;\n  font-weight: 600;\n  transition: all 0.3s ease;\n  border: 2px solid transparent;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n}\n\n.draggable-ship:hover {\n  background: linear-gradient(135deg, #81a1c1, #5e81ac);\n  border-color: #88c0d0;\n  transform: translateX(5px);\n}\n\n.draggable-ship:active {\n  cursor: grabbing;\n}\n\n/* Battle Phase Container */\n#battle-phase {\n  padding: 20px;\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n#battle-phase h2 {\n  text-align: center;\n  color: #88c0d0;\n  font-size: 2.5rem;\n  margin-bottom: 20px;\n  text-transform: uppercase;\n  letter-spacing: 3px;\n  text-shadow: 0 0 20px rgba(136, 192, 208, 0.5);\n}\n\n/* Battle Status */\n#battle-status {\n  text-align: center;\n  margin-bottom: 30px;\n  padding: 20px;\n  background: linear-gradient(\n    135deg,\n    rgba(94, 129, 172, 0.3),\n    rgba(129, 161, 193, 0.2)\n  );\n  border-radius: 12px;\n  border: 1px solid rgba(94, 129, 172, 0.4);\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);\n}\n\n#turn-indicator {\n  margin: 0;\n  color: #eceff4;\n  font-size: 1.4rem;\n  font-weight: bold;\n  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);\n}\n\n/* Boards Wrapper */\n.boards-wrapper {\n  display: flex;\n  justify-content: center;\n  gap: 50px;\n  flex-wrap: wrap;\n}\n\n/* Board Sections */\n.board-section {\n  text-align: center;\n}\n\n.board-section h3 {\n  margin-bottom: 15px;\n  font-size: 1.5rem;\n  color: #81a1c1;\n  text-transform: uppercase;\n  letter-spacing: 2px;\n  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);\n}\n\n/* Board Grid */\n.board {\n  display: grid;\n  grid-template-columns: repeat(10, 45px);\n  grid-template-rows: repeat(10, 45px);\n  gap: 3px;\n  background-color: rgba(30, 35, 45, 0.8);\n  padding: 8px;\n  border-radius: 12px;\n  border: 2px solid rgba(94, 129, 172, 0.4);\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.6);\n}\n\n/* Cell Styling */\n.cell {\n  background: linear-gradient(135deg, #2e3440, #3b4252);\n  border: 1px solid rgba(76, 86, 106, 0.6);\n  cursor: pointer;\n  transition: all 0.2s ease;\n  position: relative;\n  border-radius: 4px;\n}\n\n.cell:hover {\n  transform: scale(1.08);\n  z-index: 10;\n  box-shadow: 0 0 12px rgba(136, 192, 208, 0.4);\n}\n\n/* Player Board Cells */\n#player-board .cell:hover {\n  background: linear-gradient(135deg, #3b4252, #434c5e);\n  border-color: #5e81ac;\n}\n\n/* Placement Board Cells */\n#placement-board .cell:hover {\n  background: linear-gradient(135deg, #3b4252, #434c5e);\n  border-color: #5e81ac;\n}\n\n/* Enemy Board Cells - Targeting */\n#enemy-board .cell:hover:not(.hit):not(.miss) {\n  background: linear-gradient(135deg, #bf616a, #d08770);\n  cursor: crosshair;\n  box-shadow: 0 0 16px rgba(191, 97, 106, 0.7);\n  border-color: #bf616a;\n}\n\n/* Ship Cells */\n.cell.has-ship {\n  background: linear-gradient(135deg, #5e81ac, #81a1c1);\n  border-color: #88c0d0;\n  box-shadow: 0 0 8px rgba(94, 129, 172, 0.5);\n}\n\n#player-board .cell.has-ship {\n  background: linear-gradient(135deg, #5e81ac, #81a1c1);\n}\n\n/* Hit Marker */\n.cell.hit {\n  background: radial-gradient(circle, #bf616a, #a54e56);\n  border-color: #bf616a;\n  animation: hitPulse 0.5s ease;\n  box-shadow: 0 0 20px rgba(191, 97, 106, 0.8);\n}\n\n.cell.hit::after {\n  content: 'âœ•';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 28px;\n  color: #eceff4;\n  text-shadow: 0 0 10px rgba(191, 97, 106, 1);\n  font-weight: bold;\n}\n\n/* Miss Marker */\n.cell.miss {\n  background: radial-gradient(circle, #4c566a, #434c5e);\n  border-color: #5e81ac;\n  animation: missPulse 0.5s ease;\n}\n\n.cell.miss::after {\n  content: 'â—‹';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 24px;\n  color: #81a1c1;\n  text-shadow: 0 0 8px rgba(129, 161, 193, 0.6);\n}\n\n/* Hide ships on enemy board */\n#enemy-board .cell.has-ship:not(.hit) {\n  background: linear-gradient(135deg, #2e3440, #3b4252);\n  border-color: rgba(76, 86, 106, 0.6);\n  box-shadow: none;\n}\n\n/* Disabled state */\n.cell.disabled {\n  cursor: not-allowed;\n  opacity: 0.4;\n}\n\n/* Game Over Modal */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.85);\n  backdrop-filter: blur(8px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  animation: fadeIn 0.3s ease;\n}\n\n.modal-content {\n  background: linear-gradient(135deg, #1a1f2e, #0f1419);\n  border: 2px solid rgba(136, 192, 208, 0.5);\n  border-radius: 20px;\n  padding: 50px 60px;\n  text-align: center;\n  box-shadow:\n    0 20px 60px rgba(0, 0, 0, 0.8),\n    0 0 40px rgba(136, 192, 208, 0.3);\n  animation: modalSlideIn 0.4s ease;\n  min-width: 400px;\n}\n\n.modal-content h2 {\n  font-size: 3rem;\n  margin: 0 0 10px 0;\n  text-transform: uppercase;\n  letter-spacing: 3px;\n  background: linear-gradient(135deg, #88c0d0, #81a1c1);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  text-shadow: 0 0 30px rgba(136, 192, 208, 0.5);\n  animation: glow 2s ease-in-out infinite;\n}\n\n.modal-content.victory h2 {\n  background: linear-gradient(135deg, #a3be8c, #8bb174);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.modal-content.defeat h2 {\n  background: linear-gradient(135deg, #bf616a, #d08770);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n}\n\n.modal-content p {\n  font-size: 1.3rem;\n  color: #b4bcc8;\n  margin: 20px 0 40px 0;\n}\n\n.modal-emoji {\n  font-size: 5rem;\n  margin: 20px 0;\n  display: block;\n  animation: bounce 1s ease infinite;\n}\n\n.restart-btn {\n  background: linear-gradient(135deg, #88c0d0, #5e81ac);\n  color: #eceff4;\n  border: none;\n  padding: 16px 48px;\n  font-size: 1.2rem;\n  font-weight: 700;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 6px 20px rgba(136, 192, 208, 0.4);\n  text-transform: uppercase;\n  letter-spacing: 2px;\n}\n\n.restart-btn:hover {\n  background: linear-gradient(135deg, #a3d4e5, #88c0d0);\n  transform: translateY(-3px);\n  box-shadow: 0 10px 30px rgba(136, 192, 208, 0.6);\n}\n\n.restart-btn:active {\n  transform: translateY(-1px);\n}\n\n/* Modal Animations */\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes modalSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-50px) scale(0.9);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n@keyframes glow {\n  0%,\n  100% {\n    filter: drop-shadow(0 0 20px rgba(136, 192, 208, 0.6));\n  }\n  50% {\n    filter: drop-shadow(0 0 30px rgba(136, 192, 208, 0.9));\n  }\n}\n\n@keyframes bounce {\n  0%,\n  100% {\n    transform: translateY(0);\n  }\n  50% {\n    transform: translateY(-15px);\n  }\n}\n\n/* Animations */\n@keyframes hitPulse {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.25);\n    box-shadow: 0 0 25px rgba(191, 97, 106, 1);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n@keyframes missPulse {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.12);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n/* Hidden utility */\n.hidden {\n  display: none !important;\n}\n\n/* Responsive Design */\n@media (max-width: 1024px) {\n  .boards-wrapper {\n    flex-direction: column;\n    gap: 40px;\n  }\n\n  .placement-wrapper {\n    flex-direction: column;\n    align-items: center;\n  }\n}\n\n@media (max-width: 768px) {\n  body {\n    padding: 10px;\n  }\n\n  .board {\n    grid-template-columns: repeat(10, 38px);\n    grid-template-rows: repeat(10, 38px);\n    gap: 2px;\n  }\n\n  #battle-phase h2 {\n    font-size: 2rem;\n  }\n\n  .board-section h3 {\n    font-size: 1.3rem;\n  }\n\n  button {\n    padding: 10px 20px;\n    font-size: 0.9rem;\n  }\n\n  .ship-info {\n    flex-direction: column;\n    gap: 10px;\n  }\n}\n\n@media (max-width: 480px) {\n  .board {\n    grid-template-columns: repeat(10, 32px);\n    grid-template-rows: repeat(10, 32px);\n  }\n\n  #battle-phase h2 {\n    font-size: 1.5rem;\n  }\n}\n",""]);const s=i},314(n){n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},e.i=function(n,t,r,a,o){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<n.length;c++){var d=[].concat(n[c]);r&&i[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),e.push(d))}},e}},540(n){n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},601(n){n.exports=function(n){return n[1]}},659(n){var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},825(n){n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function t(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return n[r](o,o.exports,t),o.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var r=t(72),a=t.n(r),o=t(825),i=t.n(o),s=t(659),l=t.n(s),c=t(56),d=t.n(c),u=t(540),p=t.n(u),h=t(113),m=t.n(h),f=t(208),g={};function b(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function y(n){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},y(n)}function v(n){var e=function(n){if("object"!=y(n)||!n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var t=e.call(n,"string");if("object"!=y(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==y(e)?e:e+""}function x(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,v(r.key),r)}}function k(n,e,t){return e&&x(n.prototype,e),t&&x(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function w(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function S(n,e){if(n){if("string"==typeof n)return w(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(n,e):void 0}}function C(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,o,i,s=[],l=!0,c=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(n){c=!0,a=n}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(n,e)||S(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(n,e,t){return(e=v(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function E(){return Math.random()<.5?"horizontal":"vertical"}function B(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return[Math.floor(Math.random()*n),Math.floor(Math.random()*n)]}function I(n,e,t){for(var r=C(n,2),a=r[0],o=r[1],i=[],s=0;s<e;s+=1)"horizontal"===t?i.push([a+s,o]):i.push([a,o+s]);return i}g.styleTagTransform=m(),g.setAttributes=d(),g.insert=l().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=p(),a()(f.A,g),f.A&&f.A.locals&&f.A.locals;var P=function(){return k(function n(e){if(b(this,n),e<=0)throw new Error("length must be positive");this.length=e,this.hits=0,this.sunk=!1},[{key:"hit",value:function(){this.isSunk()||this.hits<this.length&&(this.hits+=1)}},{key:"isSunk",value:function(){return this.sunk||this.hits>=this.length}}])}();function T(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}var z=function(){function n(){b(this,n),this.ships=[],this.missedAttacks=[],this.allAttacks=new Set,this.occupiedCoordinates=new Set}return k(n,[{key:"reset",value:function(){this.ships=[],this.missedAttacks=[],this.allAttacks=new Set,this.occupiedCoordinates=new Set}},{key:"resetAttacks",value:function(){this.missedAttacks=[],this.allAttacks=new Set}},{key:"isCoordinateOccupied",value:function(n){var e=C(n,2),t=e[0],r=e[1];return this.occupiedCoordinates.has("".concat(t,",").concat(r))}},{key:"placeShip",value:function(e,t){var r=this;if(t.length!==e.length)throw new Error("Coordinates length must match ship length");if(t.some(function(e){var t=C(e,2),r=t[0],a=t[1];return r<0||r>=n.GRID_SIZE||a<0||a>=n.GRID_SIZE}))throw new Error("Coordinates out of bounds (0-".concat(n.GRID_SIZE-1,")"));if(t.some(function(n){return r.isCoordinateOccupied(n)}))throw new Error("Cannot place ship on occupied space");t.forEach(function(n){return r.occupiedCoordinates.add(n.toString())}),this.ships.push({ship:e,coordinates:t})}},{key:"placeShipsRandomly",value:function(){this.reset(),this.reset();var e,t=function(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=function(n,e){if(n){if("string"==typeof n)return T(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T(n,e):void 0}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,a=function(){};return{s:a,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){t=t.call(n)},n:function(){var n=t.next();return i=n.done,n},e:function(n){s=!0,o=n},f:function(){try{i||null==t.return||t.return()}finally{if(s)throw o}}}}(n.shipsToPlace);try{for(t.s();!(e=t.n()).done;)for(var r=e.value,a=(r.name,r.length),o=!1;!o;){var i=E(),s=I(B(),a,i);try{this.placeShip(new P(a),s),o=!0}catch(n){}}}catch(n){t.e(n)}finally{t.f()}}},{key:"_findShipAt",value:function(n){var e=C(n,2),t=e[0],r=e[1],a=this.ships.find(function(n){return n.coordinates.some(function(n){var e=C(n,2),a=e[0],o=e[1];return a===t&&o===r})});return a?a.ship:null}},{key:"receiveAttack",value:function(e){var t=C(e,2),r=t[0],a=t[1];if(r<0||r>=n.GRID_SIZE||a<0||a>=n.GRID_SIZE)throw new Error("Attack coordinates out of bounds");var o=e.toString();if(this.allAttacks.has(o))return"already attacked";this.allAttacks.add(o);var i=this._findShipAt(e);return i?(i.hit(),"hit"):(this.missedAttacks.push(e),"miss")}},{key:"allShipsSunk",value:function(){return 0!==this.ships.length&&this.ships.every(function(n){return n.ship.isSunk()})}}])}();A(z,"GRID_SIZE",10),A(z,"shipsToPlace",[{name:"Carrier",length:5},{name:"Battleship",length:4},{name:"Cruiser",length:3},{name:"Submarine",length:3},{name:"Destroyer",length:2}]);var M=function(){return k(function n(e,t){b(this,n),this.player=e,this.computer=t,this.currentTurn=this.player,this.hasStarted=!1},[{key:"startGame",value:function(){this.player.gameboard.resetAttacks(),this.computer.gameboard.resetAttacks(),this.currentTurn=this.player,this.hasStarted=!0}},{key:"resetAttacks",value:function(){this.allAttacks.clear(),this.missedAttacks=[]}},{key:"switchTurn",value:function(){return this.currentTurn=this.currentTurn===this.player?this.computer:this.player,this.currentTurn}},{key:"getCurrentPlayer",value:function(){return this.currentTurn}},{key:"playerAttack",value:function(n){if(!this.hasStarted)throw new Error("Game not started");if(this.currentTurn!==this.player)throw new Error("Not player's turn");var e=this.computer.gameboard.receiveAttack(n);if("already attacked"===e)throw new Error("already attacked");return"miss"===e&&this.switchTurn(),e}},{key:"computerAttack",value:function(){if(this.player.gameboard.allAttacks.size>=100)throw new Error("No valid moves left");if(this.currentTurn!==this.computer)throw new Error("Not computer's turn");var n;do{n=[Math.floor(10*Math.random()),Math.floor(10*Math.random())]}while(this.player.gameboard.allAttacks.has(n.toString()));var e=this.player.gameboard.receiveAttack(n);return"miss"===e&&this.switchTurn(),{coordinates:n,result:e}}},{key:"isGameOver",value:function(){return this.player.gameboard.allShipsSunk()||this.computer.gameboard.allShipsSunk()}},{key:"getWinner",value:function(){return this.isGameOver()?this.player.gameboard.allShipsSunk()?this.computer.name:this.computer.gameboard.allShipsSunk()?this.player.name:null:null}}])}();function L(n,e){var t=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).showShips,r=void 0===t||t,a=n;a.innerHTML="";for(var o=document.createDocumentFragment(),i=0;i<10;i++)for(var s=0;s<10;s++){var l=document.createElement("div");l.classList.add("cell"),l.dataset.x=s,l.dataset.y=i,r&&e.isCoordinateOccupied([s,i])&&l.classList.add("has-ship"),o.appendChild(l)}a.appendChild(o)}var j=function(){return k(function n(e,t){var r;b(this,n),this.playerBoard=e,this.container=document.getElementById(t),this.shipData=z.shipsToPlace,this.availableShips=function(n){if(Array.isArray(n))return w(n)}(r=z.shipsToPlace)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(r)||S(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this.orientation="horizontal",this.currentShip=null,this.initUI()},[{key:"initUI",value:function(){this.renderShipPalette(),this.renderBoard(),this.setupRotateButton(),this.setupRandomizeButton(),this.setupStartButton()}},{key:"startBattle",value:function(){document.getElementById("placement-phase").classList.add("hidden"),document.getElementById("battle-phase").classList.remove("hidden"),console.log(this.playerBoard),this.onFinish&&this.onFinish()}},{key:"checkStartButton",value:function(){document.getElementById("start-game-btn").disabled=this.availableShips.length>0}},{key:"renderBoard",value:function(){L(this.container,this.playerBoard,{showShips:!0})}},{key:"renderShipPalette",value:function(){var n=this,e=document.getElementById("ship-palette");e.innerHTML="",this.availableShips.forEach(function(t){var r=document.createElement("div");r.classList.add("draggable-ship"),r.draggable=!0,r.dataset.shipName=t.name,r.dataset.length=t.length,r.textContent="".concat(t.name," (").concat(t.length,")"),r.addEventListener("dragstart",function(){n.currentShip={name:t.name,length:t.length}}),e.appendChild(r)}),this.container.addEventListener("dragover",function(n){return n.preventDefault()}),this.container.addEventListener("drop",function(e){return n.handleDrop(e)})}},{key:"handleDrop",value:function(n){var e=this;if(this.currentShip){var t=n.target.closest(".cell");if(t){for(var r=Number(t.dataset.x),a=Number(t.dataset.y),o=[],i=0;i<this.currentShip.length;i++)o.push("horizontal"===this.orientation?[r+i,a]:[r,a+i]);try{var s=new P(this.currentShip.length);s.name=this.currentShip.name,this.playerBoard.placeShip(s,o),this.availableShips=this.availableShips.filter(function(n){return n.name!==e.currentShip.name}),this.currentShip=null,this.currentShip=null,this.renderBoard(),this.renderShipPalette(),this.checkStartButton()}catch(n){}}}}},{key:"setupRotateButton",value:function(){var n=this,e=document.getElementById("rotate-btn"),t=document.getElementById("orientation");e.addEventListener("click",function(){n.orientation="horizontal"===n.orientation?"vertical":"horizontal",t.textContent=n.orientation.charAt(0).toUpperCase()+n.orientation.slice(1)})}},{key:"setupRandomizeButton",value:function(){var n=this;document.getElementById("randomize-btn").addEventListener("click",function(){n.playerBoard.placeShipsRandomly(),n.availableShips=[],n.renderShipPalette(),n.renderBoard(),n.checkStartButton()})}},{key:"setupStartButton",value:function(){var n=this;document.getElementById("start-game-btn").addEventListener("click",function(){n.startBattle()})}}])}(),O=function(){return k(function n(e,t,r){b(this,n),this.player=e,this.computer=t,this.gameController=r},[{key:"init",value:function(){this.playerContainer=document.getElementById("player-board"),this.computerContainer=document.getElementById("enemy-board"),this.renderBoards(),this.wireEvents()}},{key:"renderBoards",value:function(){this.renderComputerBoard(),this.renderPlayerBoard()}},{key:"renderPlayerBoard",value:function(){L(this.playerContainer,this.player.gameboard,{showShips:!0})}},{key:"renderComputerBoard",value:function(){L(this.computerContainer,this.computer.gameboard,{showShips:!1})}},{key:"updateTurnIndicator",value:function(){var n=document.getElementById("turn-indicator");this.gameController.getCurrentPlayer()===this.player?n.textContent="Your Turn":n.textContent="Computer's Turn"}},{key:"updateCell",value:function(n,e){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.classList.remove("hit","miss","has-ship"),"hit"===e?n.classList.add("hit"):"miss"===e&&n.classList.add("miss"),t&&"ship"===e&&n.classList.add("has-ship")}},{key:"handlePlayerAttack",value:function(n){var e=this;if(this.gameController.getCurrentPlayer()===this.player){var t=Number(n.dataset.x),r=Number(n.dataset.y);if(!this.gameController.computer.gameboard.allAttacks.has([t,r].toString())){var a=this.gameController.playerAttack([t,r]);this.updateCell(n,a),this.updateTurnIndicator(),this.gameController.isGameOver()?this.endGame(this.gameController.getWinner()):"miss"===a&&setTimeout(function(){return e.computerMove()},800)}}}},{key:"endGame",value:function(n){this.gameOver=!0;var e=document.createElement("div");e.classList.add("modal-overlay");var t=document.createElement("div");t.classList.add("modal-content");var r="Player"===n;r?t.classList.add("victory"):t.classList.add("defeat"),t.innerHTML="\n    <h2>".concat(r?"Victory!":"Defeat!",'</h2>\n    <span class="modal-emoji">').concat(r?"ðŸŽ‰":"ðŸ’€","</span>\n    <p>").concat(r?"You sunk all enemy ships!":"Your fleet has been destroyed!",'</p>\n    <button class="restart-btn">Play Again</button>\n  '),e.appendChild(t),document.body.appendChild(e),t.querySelector(".restart-btn").addEventListener("click",function(){location.reload()}),this.computerContainer.querySelectorAll(".cell").forEach(function(n){n.style.cursor="not-allowed",n.style.pointerEvents="none"})}},{key:"computerMove",value:function(){var n=this;if(this.gameController.getCurrentPlayer()===this.gameController.computer){var e=this.gameController.computerAttack(),t=e.coordinates,r=e.result,a=this.playerContainer.querySelector("[data-x='".concat(t[0],"'][data-y='").concat(t[1],"']"));this.updateCell(a,r),this.updateTurnIndicator(),this.gameController.isGameOver()?this.endGame(this.gameController.getWinner()):"hit"===r&&setTimeout(function(){return n.computerMove()},500)}}},{key:"wireEvents",value:function(){var n=this;this.computerContainer.querySelectorAll(".cell").forEach(function(e){e.addEventListener("click",function(){return n.handlePlayerAttack(e)})})}}])}();new(function(){return k(function n(){var e=this;b(this,n),this.playerBoard=new z,this.computerBoard=new z,this.gameController=null,this.placementPhase=new j(this.playerBoard,"placement-board"),this.placementPhase.onFinish=function(){return e.startBattle()}},[{key:"startBattle",value:function(){document.getElementById("placement-phase").classList.add("hidden"),document.getElementById("battle-phase").classList.remove("hidden"),this.computerBoard.placeShipsRandomly(),this.gameController=new M({name:"Player",gameboard:this.playerBoard},{name:"Computer",gameboard:this.computerBoard}),this.gameController.startGame(),this.battlePhase=new O(this.gameController.player,this.gameController.computer,this.gameController),this.battlePhase.init()}}])}())})();